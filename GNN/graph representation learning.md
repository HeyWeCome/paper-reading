# Graph Representation Learning

原书作者：William L. Hamilton

> 如果有一种方式可以记录下这个世界，我相信是图。
>
> heywecome



## 1. 介绍

图是描述复杂系统的一种独特**数据结构**和一门通用语言。在大多数人眼中，图只是对象（**节点**）以及对象之间交互（边）的集合。例如，为了编码一个社交网络，我们可能会使用节点来表示个体，并使用边来表示两个个体为朋友。在生物领域，我们可以使用图中的节点来表示蛋白质，并使用边来表示各种生物相互作用，例如蛋白质之间的动力学相互作用。

![社交网络图](https://raw.githubusercontent.com/HeyWeCome/ImageBed/main/img/image-20230304150413488.png)

图的力量在于它对**点**之间**关系**（而不是单个点的属性）的关注，也在于它的**通用性**。相同的图结构可以用来表示社交网络、蛋白质之间的交互、通信网络之间的连接等等。



## 1.1 什么是图

在讨论图机器学习之前，有必要对 “**图数据**” 进行一个规范描述。

一个图 $$G = (\mathcal{V}, \mathcal{E})$$ 表示节点 $$\mathcal{V}$$ 和节点之间边 $$\mathcal{E}$$ 构成的集合。我们将节点 $$ u \in \mathcal{V}$$ 到节点 $$v \in \mathcal{V}$$ 之间的边表示为$$(u, v) \in \mathcal{E} $$ 。 在大多数情况下，我们只考虑 *简单图*，在 *简单图* 中每个节点对之间最多只有**一条边**，节点没有自连接，并且所有的边都是无向的。 $$ (u,v) \in \mathcal{E} \leftrightarrow (v,u) \in \mathcal{E} $$。

表示图的一个便捷方式为 *邻接矩阵* $$ A \in \mathbb{R}^{|V|\times|V|}$$。如果在  $$(u,v) \in \mathcal{E}$$ ， $$ A[u, v] = 1$$，则表示 $$u$$ 和 $v$ 之间有边，否则 $$ A[u,v]=0$$。如果是无向图，那么 $A$ 便是对称的，如果是有向图，那么 $A$ 不对称。有一些图存在着 **权重边**，那么这个时候 $A$ 的值是任意的值，而不只属于 $\{0,1\}$。



### 1.1.1 多重关系图

除了 **无向边**、**有向边** 和 **加权边** 的区别，我们还需要考虑具有不同 **类型** 边的图。在这种情况下，我们可以将 **边** 的符号扩展为包括边或者关系类型 $\tau$，表示为： $(u, \tau, v) \in \mathcal{E}$，我们可以针对每种边关系定义一个邻接矩阵 $A_{\tau}$。

我们称呼这种图为 *多关系(multi-relational)*，整张图可以由一个邻接矩阵 $\mathcal{A} \in \mathbb{R}^{|\mathcal{V}| \times |\mathcal{R}| \times |\mathcal{V}|}$ 表示，其中 $\mathcal{R}$ 表示关系集合。多关系图中两个重要子集为：**异质(heterogeneous)**图和**多重(multiplex)**图。



#### 异质图

在异质图中，节点也被赋予了**类型(types)**，这意味着我们可以将节点的集合划分为不相交的集合 $\mathcal{V} = \mathcal{V_1} \cup \, \mathcal{V_2} \, \cup \, ... \, \cup \, \mathcal{V_k} $，其中对于$\forall i \neq j $，$\mathcal{V_i} \cap \mathcal{V_j} = \emptyset$。

异质图中的边通常根据**节点类型**满足约束，最常见的是某些边**只**连接某些类型的节点的约束。例如：$(\mathcal{u},\mathcal{\tau_i,\mathcal{v}}) \in \mathcal{E} \rightarrow \mathcal{u} \in \mathcal{V_j}, \mathcal{v} \in \mathcal{V_k} \wedge j \neq k$。

> 异质图，点属于不同的点集，边表示一种特定的关系。



#### 多重图

在多重图中，我们假定图可以被分解为 $k$ 层。每一个节点都被假定属于每一层，每一层都对应于一个独特的关系，代表该层的 **层内**(*intra-layer*) 边缘类型。我们还假设层间边的类型可以存在，这些边在各层之间连接同一个节点。多重化图最好通过实例来理解。例如，在一个复式交通网络中，每个节点可能代表一个城市，每层可能代表不同的交通方式（例如航空旅行或火车旅行）。那么，层内边缘将代表由不同运输方式连接的城市，而层间边缘代表在一个特定城市内转换运输方式的可能性。

 

